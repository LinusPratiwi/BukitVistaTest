{"ast":null,"code":"import _classCallCheck from \"E:\\\\THINGS_I_CONCERN\\\\WORK\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\THINGS_I_CONCERN\\\\WORK\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\THINGS_I_CONCERN\\\\WORK\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\THINGS_I_CONCERN\\\\WORK\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\THINGS_I_CONCERN\\\\WORK\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\THINGS_I_CONCERN\\\\WORK\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\THINGS_I_CONCERN\\\\WORK\\\\isomorphic\\\\src\\\\containers\\\\Sidebar\\\\Sidebar.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport clone from \"clone\";\nimport { Link } from \"react-router-dom\";\nimport { Layout } from \"antd\"; // import options from \"./options\";\n\nimport newOptions from \"./newOptions\";\nimport Scrollbars from \"../../components/utility/customScrollBar.js\";\nimport Menu from \"../../components/uielements/menu\";\nimport IntlMessages from \"../../components/utility/intlMessages\";\nimport SidebarWrapper from \"./sidebar.style\";\nimport appActions from \"../../redux/app/actions\";\nimport Logo from \"../../components/utility/logo\"; // const SubMenu = Menu.SubMenu;\n\nvar MenuItemGroup = Menu.ItemGroup;\nvar Sider = Layout.Sider;\nvar toggleOpenDrawer = appActions.toggleOpenDrawer,\n    changeOpenKeys = appActions.changeOpenKeys,\n    changeCurrent = appActions.changeCurrent,\n    toggleCollapsed = appActions.toggleCollapsed;\n\nvar stripTrailingSlash = function stripTrailingSlash(str) {\n  if (str.substr(-1) === \"/\") {\n    return str.substr(0, str.length - 1);\n  }\n\n  return str;\n};\n\nvar Sidebar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Sidebar, _Component);\n\n  function Sidebar(props) {\n    var _this;\n\n    _classCallCheck(this, Sidebar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Sidebar).call(this, props));\n\n    _this.getAncestorKeys = function (key) {\n      var map = {\n        sub3: [\"sub2\"]\n      };\n      return map[key] || [];\n    };\n\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onOpenChange = _this.onOpenChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Sidebar, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var _this2 = this;\n\n      this.props.changeCurrent([e.key]);\n\n      if (this.props.app.view === \"MobileView\") {\n        setTimeout(function () {\n          _this2.props.toggleCollapsed();\n\n          _this2.props.toggleOpenDrawer();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"onOpenChange\",\n    value: function onOpenChange(newOpenKeys) {\n      var _this$props = this.props,\n          app = _this$props.app,\n          changeOpenKeys = _this$props.changeOpenKeys;\n      var latestOpenKey = newOpenKeys.find(function (key) {\n        return !(app.openKeys.indexOf(key) > -1);\n      });\n      var latestCloseKey = app.openKeys.find(function (key) {\n        return !(newOpenKeys.indexOf(key) > -1);\n      });\n      var nextOpenKeys = [];\n\n      if (latestOpenKey) {\n        nextOpenKeys = this.getAncestorKeys(latestOpenKey).concat(latestOpenKey);\n      }\n\n      if (latestCloseKey) {\n        nextOpenKeys = this.getAncestorKeys(latestCloseKey);\n      }\n\n      changeOpenKeys(nextOpenKeys);\n    }\n  }, {\n    key: \"render\",\n\n    /*\n    getMenuItem = ({ singleOption, submenuStyle, submenuColor }) => {\n      const { key, label, leftIcon, children } = singleOption;\n      const url = stripTrailingSlash(this.props.url);\n      if (children) {\n        return (\n          <SubMenu\n            key={key}\n            title={\n              <span className=\"isoMenuHolder\" style={submenuColor}>\n                <i className={leftIcon} />\n                <span className=\"nav-text\">\n                  <IntlMessages id={label} />\n                </span>\n              </span>\n            }\n          >\n            {children.map(child => {\n              const linkTo = child.withoutDashboard\n                ? `/${child.key}`\n                : `${url}/${child.key}`;\n              return (\n                <Menu.Item style={submenuStyle} key={child.key}>\n                  <Link style={submenuColor} to={linkTo}>\n                    <IntlMessages id={child.label} />\n                  </Link>\n                </Menu.Item>\n              );\n            })}\n          </SubMenu>\n        );\n      }\n      return (\n        <Menu.Item key={key}>\n          <Link to={`${url}/${key}`}>\n            <span className=\"isoMenuHolder\" style={submenuColor}>\n              <i className={leftIcon} />\n              <span className=\"nav-text\">\n                <IntlMessages id={label} />\n              </span>\n            </span>\n          </Link>\n        </Menu.Item>\n      );\n    };\n     */\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          app = _this$props2.app,\n          toggleOpenDrawer = _this$props2.toggleOpenDrawer,\n          customizedTheme = _this$props2.customizedTheme,\n          height = _this$props2.height;\n      var collapsed = clone(app.collapsed) && !clone(app.openDrawer);\n      var openDrawer = app.openDrawer;\n      var mode = collapsed === true ? \"vertical\" : \"inline\";\n\n      var onMouseEnter = function onMouseEnter(event) {\n        if (openDrawer === false) {\n          toggleOpenDrawer();\n        }\n\n        return;\n      };\n\n      var onMouseLeave = function onMouseLeave() {\n        if (openDrawer === true) {\n          toggleOpenDrawer();\n        }\n\n        return;\n      };\n\n      var styling = {\n        backgroundColor: customizedTheme.backgroundColor\n      };\n      var submenuStyle = {\n        backgroundColor: \"rgba(0,0,0,0.3)\",\n        color: customizedTheme.textColor\n      };\n      var submenuColor = {\n        color: customizedTheme.textColor\n      };\n      return React.createElement(SidebarWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Sider, {\n        trigger: null,\n        collapsible: true,\n        collapsed: collapsed,\n        width: 240,\n        className: \"isomorphicSidebar\",\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave,\n        style: styling,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        collapsed: collapsed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(Scrollbars, {\n        style: {\n          height: height - 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        onClick: this.handleClick,\n        theme: \"dark\",\n        className: \"isoDashboardMenu\",\n        mode: mode,\n        openKeys: collapsed ? [] : app.openKeys,\n        selectedKeys: app.current,\n        onOpenChange: this.onOpenChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, newOptions.map(function (singleOption) {\n        return _this3.getMenuItem({\n          submenuStyle: submenuStyle,\n          submenuColor: submenuColor,\n          singleOption: singleOption\n        });\n      }), \"/*\", React.createElement(SubMenu, {\n        key: \"sub1\",\n        title: React.createElement(\"span\", {\n          className: \"isoMenuHolder\",\n          style: submenuColor,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"ion-android-options\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"nav-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(IntlMessages, {\n          id: \"sidebar.menuLevels\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(MenuItemGroup, {\n        key: \"g1\",\n        title: React.createElement(IntlMessages, {\n          id: \"sidebar.item1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Menu.Item, {\n        style: submenuStyle,\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"sidebar.option1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })), React.createElement(Menu.Item, {\n        style: submenuStyle,\n        key: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"sidebar.option2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }))), React.createElement(MenuItemGroup, {\n        key: \"g2\",\n        title: React.createElement(IntlMessages, {\n          id: \"sidebar.item2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(Menu.Item, {\n        style: submenuStyle,\n        key: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"sidebar.option3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      })), React.createElement(Menu.Item, {\n        style: submenuStyle,\n        key: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"sidebar.option4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return Sidebar;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    app: state.App,\n    customizedTheme: state.ThemeSwitcher.sidebarTheme,\n    height: state.App.height\n  };\n}, {\n  toggleOpenDrawer: toggleOpenDrawer,\n  changeOpenKeys: changeOpenKeys,\n  changeCurrent: changeCurrent,\n  toggleCollapsed: toggleCollapsed\n})(Sidebar);","map":{"version":3,"sources":["E:\\THINGS_I_CONCERN\\WORK\\isomorphic\\src\\containers\\Sidebar\\Sidebar.js"],"names":["React","Component","connect","clone","Link","Layout","newOptions","Scrollbars","Menu","IntlMessages","SidebarWrapper","appActions","Logo","MenuItemGroup","ItemGroup","Sider","toggleOpenDrawer","changeOpenKeys","changeCurrent","toggleCollapsed","stripTrailingSlash","str","substr","length","Sidebar","props","getAncestorKeys","key","map","sub3","handleClick","bind","onOpenChange","e","app","view","setTimeout","newOpenKeys","latestOpenKey","find","openKeys","indexOf","latestCloseKey","nextOpenKeys","concat","customizedTheme","height","collapsed","openDrawer","mode","onMouseEnter","event","onMouseLeave","styling","backgroundColor","submenuStyle","color","textColor","submenuColor","current","singleOption","getMenuItem","state","App","ThemeSwitcher","sidebarTheme"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport clone from \"clone\";\nimport { Link } from \"react-router-dom\";\nimport { Layout } from \"antd\";\n// import options from \"./options\";\nimport newOptions from \"./newOptions\";\nimport Scrollbars from \"../../components/utility/customScrollBar.js\";\nimport Menu from \"../../components/uielements/menu\";\nimport IntlMessages from \"../../components/utility/intlMessages\";\nimport SidebarWrapper from \"./sidebar.style\";\nimport appActions from \"../../redux/app/actions\";\nimport Logo from \"../../components/utility/logo\";\n\n// const SubMenu = Menu.SubMenu;\nconst MenuItemGroup = Menu.ItemGroup;\nconst { Sider } = Layout;\n\nconst {\n  toggleOpenDrawer,\n  changeOpenKeys,\n  changeCurrent,\n  toggleCollapsed\n} = appActions;\nconst stripTrailingSlash = str => {\n  if (str.substr(-1) === \"/\") {\n    return str.substr(0, str.length - 1);\n  }\n  return str;\n};\n\nclass Sidebar extends Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.onOpenChange = this.onOpenChange.bind(this);\n  }\n  handleClick(e) {\n    this.props.changeCurrent([e.key]);\n    if (this.props.app.view === \"MobileView\") {\n      setTimeout(() => {\n        this.props.toggleCollapsed();\n        this.props.toggleOpenDrawer();\n      }, 100);\n    }\n  }\n  onOpenChange(newOpenKeys) {\n    const { app, changeOpenKeys } = this.props;\n    const latestOpenKey = newOpenKeys.find(\n      key => !(app.openKeys.indexOf(key) > -1)\n    );\n    const latestCloseKey = app.openKeys.find(\n      key => !(newOpenKeys.indexOf(key) > -1)\n    );\n    let nextOpenKeys = [];\n    if (latestOpenKey) {\n      nextOpenKeys = this.getAncestorKeys(latestOpenKey).concat(latestOpenKey);\n    }\n    if (latestCloseKey) {\n      nextOpenKeys = this.getAncestorKeys(latestCloseKey);\n    }\n    changeOpenKeys(nextOpenKeys);\n  }\n  getAncestorKeys = key => {\n    const map = {\n      sub3: [\"sub2\"]\n    };\n    return map[key] || [];\n  };\n\n  /*\n  getMenuItem = ({ singleOption, submenuStyle, submenuColor }) => {\n    const { key, label, leftIcon, children } = singleOption;\n    const url = stripTrailingSlash(this.props.url);\n    if (children) {\n      return (\n        <SubMenu\n          key={key}\n          title={\n            <span className=\"isoMenuHolder\" style={submenuColor}>\n              <i className={leftIcon} />\n              <span className=\"nav-text\">\n                <IntlMessages id={label} />\n              </span>\n            </span>\n          }\n        >\n          {children.map(child => {\n            const linkTo = child.withoutDashboard\n              ? `/${child.key}`\n              : `${url}/${child.key}`;\n            return (\n              <Menu.Item style={submenuStyle} key={child.key}>\n                <Link style={submenuColor} to={linkTo}>\n                  <IntlMessages id={child.label} />\n                </Link>\n              </Menu.Item>\n            );\n          })}\n        </SubMenu>\n      );\n    }\n    return (\n      <Menu.Item key={key}>\n        <Link to={`${url}/${key}`}>\n          <span className=\"isoMenuHolder\" style={submenuColor}>\n            <i className={leftIcon} />\n            <span className=\"nav-text\">\n              <IntlMessages id={label} />\n            </span>\n          </span>\n        </Link>\n      </Menu.Item>\n    );\n  };\n\n  */\n  render() {\n    const { app, toggleOpenDrawer, customizedTheme, height } = this.props;\n    const collapsed = clone(app.collapsed) && !clone(app.openDrawer);\n    const { openDrawer } = app;\n    const mode = collapsed === true ? \"vertical\" : \"inline\";\n    const onMouseEnter = event => {\n      if (openDrawer === false) {\n        toggleOpenDrawer();\n      }\n      return;\n    };\n    const onMouseLeave = () => {\n      if (openDrawer === true) {\n        toggleOpenDrawer();\n      }\n      return;\n    };\n    const styling = {\n      backgroundColor: customizedTheme.backgroundColor\n    };\n    const submenuStyle = {\n      backgroundColor: \"rgba(0,0,0,0.3)\",\n      color: customizedTheme.textColor\n    };\n    const submenuColor = {\n      color: customizedTheme.textColor\n    };\n    return (\n      <SidebarWrapper>\n        <Sider\n          trigger={null}\n          collapsible={true}\n          collapsed={collapsed}\n          width={240}\n          className=\"isomorphicSidebar\"\n          onMouseEnter={onMouseEnter}\n          onMouseLeave={onMouseLeave}\n          style={styling}\n        >\n          <Logo collapsed={collapsed} />\n          <Scrollbars style={{ height: height - 70 }}>\n            <Menu\n              onClick={this.handleClick}\n              theme=\"dark\"\n              className=\"isoDashboardMenu\"\n              mode={mode}\n              openKeys={collapsed ? [] : app.openKeys}\n              selectedKeys={app.current}\n              onOpenChange={this.onOpenChange}\n            >\n              {newOptions.map(singleOption =>\n                this.getMenuItem({ submenuStyle, submenuColor, singleOption })\n              )}\n              {/* Demo Menu */}\n              /*\n              <SubMenu\n                key=\"sub1\"\n                title={\n                  <span className=\"isoMenuHolder\" style={submenuColor}>\n                    <i className=\"ion-android-options\" />\n                    <span className=\"nav-text\">\n                      <IntlMessages id=\"sidebar.menuLevels\" />\n                    </span>\n                  </span>\n                }\n              >\n                <MenuItemGroup\n                  key=\"g1\"\n                  title={<IntlMessages id=\"sidebar.item1\" />}\n                >\n                  <Menu.Item style={submenuStyle} key=\"1\">\n                    <IntlMessages id=\"sidebar.option1\" />\n                  </Menu.Item>\n                  <Menu.Item style={submenuStyle} key=\"2\">\n                    <IntlMessages id=\"sidebar.option2\" />\n                  </Menu.Item>\n                </MenuItemGroup>\n                <MenuItemGroup\n                  key=\"g2\"\n                  title={<IntlMessages id=\"sidebar.item2\" />}\n                >\n                  <Menu.Item style={submenuStyle} key=\"3\">\n                    <IntlMessages id=\"sidebar.option3\" />\n                  </Menu.Item>\n                  <Menu.Item style={submenuStyle} key=\"4\">\n                    <IntlMessages id=\"sidebar.option4\" />\n                  </Menu.Item>\n                </MenuItemGroup>\n              </SubMenu>\n            </Menu>\n          </Scrollbars>\n        </Sider>\n      </SidebarWrapper>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    app: state.App,\n    customizedTheme: state.ThemeSwitcher.sidebarTheme,\n    height: state.App.height\n  }),\n  { toggleOpenDrawer, changeOpenKeys, changeCurrent, toggleCollapsed }\n)(Sidebar);\n"]},"metadata":{},"sourceType":"module"}